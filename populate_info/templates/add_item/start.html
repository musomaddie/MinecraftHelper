{% extends "base.html" %}
{% block body %}
    <h2> Adding information for {{ item_name }}
        <a href={{ item_url }}>(wiki) </a>
    </h2>

    The group name is {{ group_name }}

    <form method="post">
        <table>
            <tr>
                <td>
                    <label for="group_name">Set group name to: </label>
                </td>
                <td class="left_padding">
                    {#                    TODO: create a dropdown selector of existing group names #}
                    <input type="text" id="group_name" name="group_name" required/>
                </td>
            </tr>
        </table>
        <input class="submit_button" type="submit" value="Set group name" name="group_name_btn"/>
    </form>

    <br>
    <h3> How do you obtain this block? </h3>
    <form method="post" id="item_start_form">
        <table class="alignment">
            <tr>
                <td>
                    <input type="checkbox" id="breaking_cbox" name="breaking"/>
                </td>
                <td class="left_padding">
                    <label for="breaking_cbox">Breaking? </label>
                </td>
            </tr>
            <tr>
                <td>
                    <input type="checkbox" id="crafting_cbox" name="crafting"/>
                </td>
                <td class="left_padding">
                    <label for="crafting_cbox">Crafting? </label>
                </td>
            </tr>
        </table>
        <input class="submit_button" type="submit" value="Next"></input>
    </form>

    <script>
        $(document).ready(function () {
            // Quit if we shouldn't be updating these values.
            if ((!JSON.parse('{{ show_group|tojson }}')) && (!JSON.parse('{{ is_toggle_selected|tojson }}'))) {
                return
            }
            JSON.parse('{{ group_categories|tojson }}').forEach(
                element => document.getElementById(element).checked = true
            );
        });
    </script>

{% endblock %}
